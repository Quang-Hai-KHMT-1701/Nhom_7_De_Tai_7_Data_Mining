<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Project - Ph√¢n C·ª•m Kh√°ch H√†ng D·ª±a Tr√™n Lu·∫≠t K·∫øt H·ª£p</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #2d2d44 0%, #1f1f35 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .stat-card .number {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-card .label {
            font-size: 0.95em;
            color: #aaa;
            margin-top: 10px;
        }

        .stat-card.highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .stat-card.highlight .number {
            background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);
            -webkit-background-clip: text;
            background-clip: text;
        }

        .stat-card.highlight .label {
            color: rgba(255,255,255,0.9);
        }

        /* Section */
        .section {
            background: linear-gradient(135deg, #2d2d44 0%, #1f1f35 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .section h2 {
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h2 .icon {
            font-size: 1.2em;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        th {
            background: rgba(102, 126, 234, 0.3);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85em;
            letter-spacing: 1px;
        }

        tr:hover {
            background: rgba(255,255,255,0.05);
        }

        .badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .badge-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .badge-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .badge-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .badge-danger {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        }

        /* Charts */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }

        .chart-container {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 20px;
        }

        .chart-container h3 {
            margin-bottom: 15px;
            color: #aaa;
            font-size: 1em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Cluster Cards */
        .cluster-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .cluster-card {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 25px;
            border-left: 4px solid;
        }

        .cluster-card.vip {
            border-color: #f5576c;
            background: rgba(245, 87, 108, 0.1);
        }

        .cluster-card.regular {
            border-color: #667eea;
        }

        .cluster-card.rising {
            border-color: #38ef7d;
        }

        .cluster-card.lost {
            border-color: #eb3349;
        }

        .cluster-card h3 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }

        .cluster-card .subtitle {
            color: #aaa;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .cluster-card .metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .cluster-card .metric {
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 8px;
        }

        .cluster-card .metric .value {
            font-size: 1.3em;
            font-weight: bold;
        }

        .cluster-card .metric .name {
            font-size: 0.8em;
            color: #888;
        }

        .cluster-card .strategy {
            background: rgba(102, 126, 234, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .cluster-card .strategy h4 {
            font-size: 0.9em;
            color: #667eea;
            margin-bottom: 10px;
        }

        .cluster-card .strategy ul {
            list-style: none;
            font-size: 0.9em;
        }

        .cluster-card .strategy li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .cluster-card .strategy li::before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #667eea;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 12px 25px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 10px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95em;
        }

        .nav-tab:hover, .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Pipeline */
        .pipeline {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }

        .pipeline-step {
            flex: 1;
            min-width: 200px;
            text-align: center;
            padding: 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            position: relative;
        }

        .pipeline-step::after {
            content: "‚Üí";
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5em;
            color: #667eea;
        }

        .pipeline-step:last-child::after {
            display: none;
        }

        .pipeline-step .step-num {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: bold;
        }

        .pipeline-step h4 {
            margin-bottom: 10px;
        }

        .pipeline-step p {
            font-size: 0.85em;
            color: #aaa;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            color: #666;
            font-size: 0.9em;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .charts-grid {
                grid-template-columns: 1fr;
            }

            .pipeline-step::after {
                display: none;
            }
        }

        /* Highlight row */
        .highlight-row {
            background: rgba(102, 126, 234, 0.2) !important;
        }

        /* Comparison */
        .comparison-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .comparison-card {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .comparison-card.winner {
            border: 2px solid #38ef7d;
            background: rgba(56, 239, 125, 0.1);
        }

        .comparison-card h3 {
            margin-bottom: 15px;
        }

        .comparison-card .score {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .comparison-card.winner .score {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            -webkit-background-clip: text;
            background-clip: text;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üõí Ph√¢n C·ª•m Kh√°ch H√†ng D·ª±a Tr√™n Lu·∫≠t K·∫øt H·ª£p</h1>
            <p>Mini Project - Data Mining | UK Online Retail Dataset</p>
        </div>

        <!-- Key Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="number">3,921</div>
                <div class="label">Kh√°ch h√†ng</div>
            </div>
            <div class="stat-card">
                <div class="number">541,909</div>
                <div class="label">Giao d·ªãch</div>
            </div>
            <div class="stat-card">
                <div class="number">Top-50</div>
                <div class="label">Lu·∫≠t ƒë∆∞·ª£c ch·ªçn</div>
            </div>
            <div class="stat-card highlight">
                <div class="number">K = 10</div>
                <div class="label">S·ªë c·ª•m t·ªëi ∆∞u</div>
            </div>
            <div class="stat-card highlight">
                <div class="number">0.9933</div>
                <div class="label">Silhouette Score</div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('overview')">üìã T·ªïng quan</button>
            <button class="nav-tab" onclick="showTab('rules')">üìú Lu·∫≠t k·∫øt h·ª£p</button>
            <button class="nav-tab" onclick="showTab('features')">‚öôÔ∏è T·∫°o ƒë·∫∑c tr∆∞ng</button>
            <button class="nav-tab" onclick="showTab('clustering')">üéØ Ph√¢n c·ª•m</button>
            <button class="nav-tab" onclick="showTab('clusters')">üë• Ph√¢n t√≠ch Cluster</button>
            <button class="nav-tab" onclick="showTab('comparison')">üìä So s√°nh thu·∫≠t to√°n</button>
        </div>

        <!-- Tab: Overview -->
        <div id="overview" class="tab-content active">
            <div class="section">
                <h2><span class="icon">üîÑ</span> Pipeline x·ª≠ l√Ω</h2>
                <div class="pipeline">
                    <div class="pipeline-step">
                        <div class="step-num">1</div>
                        <h4>D·ªØ li·ªáu th√¥</h4>
                        <p>541,909 transactions<br>UK Online Retail</p>
                    </div>
                    <div class="pipeline-step">
                        <div class="step-num">2</div>
                        <h4>T√¨m lu·∫≠t</h4>
                        <p>Apriori/FP-Growth<br>Top-50 rules (Lift)</p>
                    </div>
                    <div class="pipeline-step">
                        <div class="step-num">3</div>
                        <h4>T·∫°o ƒë·∫∑c tr∆∞ng</h4>
                        <p>Lift weighting<br>50 features/customer</p>
                    </div>
                    <div class="pipeline-step">
                        <div class="step-num">4</div>
                        <h4>Ph√¢n c·ª•m</h4>
                        <p>K-Means (K=10)<br>Silhouette = 0.99</p>
                    </div>
                    <div class="pipeline-step">
                        <div class="step-num">5</div>
                        <h4>Marketing</h4>
                        <p>10 customer segments<br>Targeted strategies</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">üìä</span> K·∫øt qu·∫£ ch√≠nh</h2>
                <div class="charts-grid">
                    <div class="chart-container">
                        <h3>Ph√¢n b·ªë kh√°ch h√†ng theo Cluster</h3>
                        <canvas id="clusterDistChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Silhouette Score theo s·ªë c·ª•m K</h3>
                        <canvas id="silhouetteChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Rules -->
        <div id="rules" class="tab-content">
            <div class="section">
                <h2><span class="icon">üìú</span> Ti√™u ch√≠ l·ªçc lu·∫≠t</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="number">‚â• 1%</div>
                        <div class="label">min_support</div>
                    </div>
                    <div class="stat-card">
                        <div class="number">‚â• 30%</div>
                        <div class="label">min_confidence</div>
                    </div>
                    <div class="stat-card">
                        <div class="number">> 1</div>
                        <div class="label">Lift (c√≥ √Ω nghƒ©a)</div>
                    </div>
                    <div class="stat-card highlight">
                        <div class="number">Top-50</div>
                        <div class="label">S·∫Øp x·∫øp theo Lift</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">üèÜ</span> Top 10 Lu·∫≠t K·∫øt H·ª£p (theo Lift)</h2>
                <table>
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Antecedent (Mua c√°i n√†y...)</th>
                            <th>Consequent (...th∆∞·ªùng mua th√™m)</th>
                            <th>Support</th>
                            <th>Confidence</th>
                            <th>Lift</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight-row">
                            <td>1</td>
                            <td>PINK REGENCY TEACUP AND SAUCER</td>
                            <td>ROSES REGENCY TEACUP AND SAUCER</td>
                            <td>1.2%</td>
                            <td>82%</td>
                            <td><span class="badge badge-success">85.2</span></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>GREEN REGENCY TEACUP AND SAUCER</td>
                            <td>ROSES REGENCY TEACUP AND SAUCER</td>
                            <td>1.1%</td>
                            <td>78%</td>
                            <td><span class="badge badge-success">78.4</span></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>ALARM CLOCK BAKELIKE RED</td>
                            <td>ALARM CLOCK BAKELIKE GREEN</td>
                            <td>1.0%</td>
                            <td>65%</td>
                            <td><span class="badge badge-success">72.1</span></td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>ALARM CLOCK BAKELIKE GREEN</td>
                            <td>ALARM CLOCK BAKELIKE RED</td>
                            <td>1.0%</td>
                            <td>65%</td>
                            <td><span class="badge badge-success">72.1</span></td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>SET/6 RED SPOTTY PAPER CUPS</td>
                            <td>SET/6 RED SPOTTY PAPER PLATES</td>
                            <td>1.1%</td>
                            <td>58%</td>
                            <td><span class="badge badge-success">65.3</span></td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>SET/6 RED SPOTTY PAPER PLATES</td>
                            <td>SET/6 RED SPOTTY PAPER CUPS</td>
                            <td>1.1%</td>
                            <td>55%</td>
                            <td><span class="badge badge-info">62.8</span></td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>PINK REGENCY TEACUP AND SAUCER</td>
                            <td>GREEN REGENCY TEACUP AND SAUCER</td>
                            <td>1.0%</td>
                            <td>68%</td>
                            <td><span class="badge badge-info">58.5</span></td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>ROSES REGENCY TEACUP AND SAUCER</td>
                            <td>PINK REGENCY TEACUP AND SAUCER</td>
                            <td>1.2%</td>
                            <td>55%</td>
                            <td><span class="badge badge-info">56.2</span></td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td>REGENCY CAKESTAND 3 TIER</td>
                            <td>ROSES REGENCY TEACUP AND SAUCER</td>
                            <td>1.0%</td>
                            <td>52%</td>
                            <td><span class="badge badge-info">54.1</span></td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>GREEN REGENCY TEACUP AND SAUCER</td>
                            <td>PINK REGENCY TEACUP AND SAUCER</td>
                            <td>1.0%</td>
                            <td>50%</td>
                            <td><span class="badge badge-info">51.8</span></td>
                        </tr>
                    </tbody>
                </table>
                <p style="margin-top: 15px; color: #888;">
                    üí° <strong>Insight:</strong> Kh√°ch h√†ng th∆∞·ªùng mua theo B·ªò S∆ØU T·∫¨P (c√πng m√†u, c√πng series). 
                    Lift = 85 nghƒ©a l√† kh·∫£ nƒÉng mua ROSES TEACUP cao g·∫•p 85 l·∫ßn n·∫øu ƒë√£ mua PINK TEACUP!
                </p>
            </div>
        </div>

        <!-- Tab: Features -->
        <div id="features" class="tab-content">
            <div class="section">
                <h2><span class="icon">‚öôÔ∏è</span> So s√°nh c√°ch t·∫°o ƒë·∫∑c tr∆∞ng</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Ki·ªÉu ƒë·∫∑c tr∆∞ng</th>
                            <th>M√¥ t·∫£</th>
                            <th>Silhouette Score</th>
                            <th>K·∫øt lu·∫≠n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Binary (0/1)</td>
                            <td>C√≥ mua = 1, Kh√¥ng = 0</td>
                            <td>0.28 - 0.68</td>
                            <td><span class="badge badge-danger">‚ùå K√©m</span></td>
                        </tr>
                        <tr class="highlight-row">
                            <td><strong>Lift Weighting</strong></td>
                            <td>C√≥ mua = Lift, Kh√¥ng = 0</td>
                            <td><strong>0.9933</strong></td>
                            <td><span class="badge badge-success">‚úÖ Xu·∫•t s·∫Øc</span></td>
                        </tr>
                        <tr>
                            <td>Lift √ó Confidence</td>
                            <td>C√≥ mua = Lift √ó Conf, Kh√¥ng = 0</td>
                            <td>0.9920</td>
                            <td><span class="badge badge-success">‚úÖ Xu·∫•t s·∫Øc</span></td>
                        </tr>
                    </tbody>
                </table>

                <div class="comparison-cards" style="margin-top: 30px;">
                    <div class="comparison-card">
                        <h3>Binary (Baseline)</h3>
                        <div class="score">0.68</div>
                        <p style="color: #888; margin-top: 10px;">Coi t·∫•t c·∫£ lu·∫≠t b·∫±ng nhau</p>
                    </div>
                    <div class="comparison-card winner">
                        <h3>üèÜ Lift Weighting</h3>
                        <div class="score">0.99</div>
                        <p style="color: #888; margin-top: 10px;">Ph√¢n bi·ªát lu·∫≠t quan tr·ªçng</p>
                    </div>
                </div>

                <p style="margin-top: 20px; color: #888;">
                    üí° <strong>T·∫°i sao Lift Weighting t·ªët h∆°n?</strong> V√¨ n√≥ gi·ªØ ƒë∆∞·ª£c th√¥ng tin v·ªÅ ƒë·ªô quan tr·ªçng c·ªßa lu·∫≠t. 
                    Lu·∫≠t c√≥ Lift = 85 ƒë∆∞·ª£c t√≠nh cao h∆°n lu·∫≠t c√≥ Lift = 2, gi√∫p thu·∫≠t to√°n ph√¢n bi·ªát kh√°ch h√†ng ch√≠nh x√°c h∆°n.
                </p>
            </div>

            <div class="section">
                <h2><span class="icon">üìã</span> So s√°nh s·ªë l∆∞·ª£ng lu·∫≠t (Top-K)</h2>
                <table>
                    <thead>
                        <tr>
                            <th>S·ªë lu·∫≠t</th>
                            <th>Silhouette Score</th>
                            <th>Nh·∫≠n x√©t</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight-row">
                            <td><strong>Top-50</strong></td>
                            <td><strong>0.9933</strong></td>
                            <td><span class="badge badge-success">‚úÖ T·ªët nh·∫•t</span></td>
                        </tr>
                        <tr>
                            <td>Top-100</td>
                            <td>0.92</td>
                            <td><span class="badge badge-info">T·ªët</span></td>
                        </tr>
                        <tr>
                            <td>Top-200</td>
                            <td>0.85</td>
                            <td><span class="badge badge-warning">Kh√°</span></td>
                        </tr>
                    </tbody>
                </table>
                <p style="margin-top: 15px; color: #888;">
                    üí° <strong>Insight:</strong> Nhi·ªÅu lu·∫≠t h∆°n ‚â† T·ªët h∆°n. Qu√° nhi·ªÅu lu·∫≠t s·∫Ω c√≥ nhi·ªÖu (noise), l√†m gi·∫£m ch·∫•t l∆∞·ª£ng ph√¢n c·ª•m.
                </p>
            </div>
        </div>

        <!-- Tab: Clustering -->
        <div id="clustering" class="tab-content">
            <div class="section">
                <h2><span class="icon">üéØ</span> Ch·ªçn s·ªë c·ª•m K t·ªëi ∆∞u</h2>
                <div class="chart-container" style="max-width: 800px; margin: 0 auto;">
                    <h3>Bi·ªÉu ƒë·ªì Silhouette Score theo K (t·ª´ notebook)</h3>
                    <img src="data/processed/silhouette_plot.png" alt="Silhouette Plot" 
                         style="width: 100%; max-width: 700px; border-radius: 10px; margin: 0 auto; display: block;">
                </div>
                <table style="margin-top: 30px;">
                    <thead>
                        <tr>
                            <th>K</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Silhouette</strong></td>
                            <td>0.9723</td>
                            <td>0.9811</td>
                            <td>0.9856</td>
                            <td>0.9897</td>
                            <td>0.9901</td>
                            <td>0.9908</td>
                            <td>0.9919</td>
                            <td>0.9925</td>
                            <td class="highlight-row"><strong>0.9933 ‚úÖ</strong></td>
                        </tr>
                    </tbody>
                </table>
                <p style="margin-top: 15px; color: #888;">
                    üí° <strong>K·∫øt lu·∫≠n:</strong> K = 10 cho Silhouette Score cao nh·∫•t (0.9933), g·∫ßn nh∆∞ ho√†n h·∫£o!
                </p>
            </div>

            <div class="section">
                <h2><span class="icon">üìà</span> PCA Visualization</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="number">93.3%</div>
                        <div class="label">PC1 (variance explained)</div>
                    </div>
                    <div class="stat-card">
                        <div class="number">1.9%</div>
                        <div class="label">PC2 (variance explained)</div>
                    </div>
                    <div class="stat-card highlight">
                        <div class="number">95.2%</div>
                        <div class="label">T·ªïng (PC1 + PC2)</div>
                    </div>
                </div>
                <div class="chart-container" style="margin-top: 20px;">
                    <h3>Bi·ªÉu ƒë·ªì PCA 2D - C√°c cluster t√°ch bi·ªát r√µ r√†ng (t·ª´ notebook)</h3>
                    <img src="data/processed/pca_scatter.png" alt="PCA Scatter Plot" 
                         style="width: 100%; max-width: 800px; border-radius: 10px; margin: 0 auto; display: block;">
                </div>
                <p style="margin-top: 15px; color: #888;">
                    üí° <strong>Nh·∫≠n x√©t:</strong> 2 tr·ª•c PC gi·ªØ ƒë∆∞·ª£c 95.2% th√¥ng tin. Cluster 0 (mainstream) t·∫≠p trung b√™n tr√°i, 
                    Cluster 1 (VIP) n·∫±m ri√™ng b√™n ph·∫£i. C√°c cluster t√°ch bi·ªát r√µ r√†ng ‚Üí Ph√¢n c·ª•m th√†nh c√¥ng!
                </p>
            </div>
        </div>

        <!-- Tab: Clusters -->
        <div id="clusters" class="tab-content">
            <div class="section">
                <h2><span class="icon">üë•</span> Ph√¢n t√≠ch 10 Cluster</h2>
                
                <div class="cluster-grid">
                    <!-- Cluster 0 -->
                    <div class="cluster-card regular">
                        <h3>Cluster 0: Regular Customers</h3>
                        <div class="subtitle">Kh√°ch H√†ng ƒê·∫°i Tr√† (96.6%)</div>
                        <div class="metrics">
                            <div class="metric">
                                <div class="value">3,788</div>
                                <div class="name">S·ªë kh√°ch</div>
                            </div>
                            <div class="metric">
                                <div class="value">93 ng√†y</div>
                                <div class="name">Recency</div>
                            </div>
                            <div class="metric">
                                <div class="value">4 ƒë∆°n</div>
                                <div class="name">Frequency</div>
                            </div>
                            <div class="metric">
                                <div class="value">¬£1,808</div>
                                <div class="name">Monetary</div>
                            </div>
                        </div>
                        <div class="strategy">
                            <h4>üì£ Chi·∫øn l∆∞·ª£c Marketing</h4>
                            <ul>
                                <li>Email marketing ƒë·ªãnh k·ª≥</li>
                                <li>Cross-sell s·∫£n ph·∫©m li√™n quan</li>
                                <li>Discount codes k√≠ch th√≠ch mua</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Cluster 1 -->
                    <div class="cluster-card vip">
                        <h3>üåü Cluster 1: VIP Champions</h3>
                        <div class="subtitle">Kh√°ch H√†ng Th∆∞·ª£ng ƒê·∫ø (2.5%)</div>
                        <div class="metrics">
                            <div class="metric">
                                <div class="value">99</div>
                                <div class="name">S·ªë kh√°ch</div>
                            </div>
                            <div class="metric">
                                <div class="value">59 ng√†y</div>
                                <div class="name">Recency</div>
                            </div>
                            <div class="metric">
                                <div class="value">25 ƒë∆°n</div>
                                <div class="name">Frequency (6x)</div>
                            </div>
                            <div class="metric">
                                <div class="value">¬£21,284</div>
                                <div class="name">Monetary (12x)</div>
                            </div>
                        </div>
                        <div class="strategy">
                            <h4>üì£ Chi·∫øn l∆∞·ª£c Marketing</h4>
                            <ul>
                                <li>üåü VIP Program ri√™ng</li>
                                <li>üéØ Personal Shopper</li>
                                <li>üöÄ Early Access s·∫£n ph·∫©m m·ªõi</li>
                                <li>‚ö†Ô∏è KH√îNG BAO GI·ªú ƒë·ªÉ m·∫•t!</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Rising Stars -->
                    <div class="cluster-card rising">
                        <h3>‚≠ê Cluster 2, 7, 8: Rising Stars</h3>
                        <div class="subtitle">Ng√¥i Sao ƒêang L√™n</div>
                        <div class="metrics">
                            <div class="metric">
                                <div class="value">~20</div>
                                <div class="name">S·ªë kh√°ch</div>
                            </div>
                            <div class="metric">
                                <div class="value">9-37 ng√†y</div>
                                <div class="name">Recency (LOW!)</div>
                            </div>
                            <div class="metric">
                                <div class="value">5-15 ƒë∆°n</div>
                                <div class="name">Frequency</div>
                            </div>
                            <div class="metric">
                                <div class="value">¬£2-5K</div>
                                <div class="name">Monetary</div>
                            </div>
                        </div>
                        <div class="strategy">
                            <h4>üì£ Chi·∫øn l∆∞·ª£c Marketing</h4>
                            <ul>
                                <li>ƒêang ACTIVE - ti·ªÅm nƒÉng th√†nh VIP!</li>
                                <li>Nurturing campaigns</li>
                                <li>Upsell premium products</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Lost -->
                    <div class="cluster-card lost">
                        <h3>‚ö†Ô∏è Cluster 9: Lost Customers</h3>
                        <div class="subtitle">Kh√°ch ƒê√£ R·ªùi B·ªè</div>
                        <div class="metrics">
                            <div class="metric">
                                <div class="value">~10</div>
                                <div class="name">S·ªë kh√°ch</div>
                            </div>
                            <div class="metric">
                                <div class="value">277 ng√†y</div>
                                <div class="name">Recency (HIGH!)</div>
                            </div>
                            <div class="metric">
                                <div class="value">2 ƒë∆°n</div>
                                <div class="name">Frequency</div>
                            </div>
                            <div class="metric">
                                <div class="value">¬£500</div>
                                <div class="name">Monetary</div>
                            </div>
                        </div>
                        <div class="strategy">
                            <h4>üì£ Chi·∫øn l∆∞·ª£c Marketing</h4>
                            <ul>
                                <li>Win-back email campaigns</li>
                                <li>Discount 20-30%</li>
                                <li>"We miss you" messages</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><span class="icon">üìä</span> B·∫£ng t·ªïng h·ª£p 10 Clusters</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Cluster</th>
                            <th>T√™n</th>
                            <th>S·ªë KH</th>
                            <th>%</th>
                            <th>Recency</th>
                            <th>Frequency</th>
                            <th>Monetary</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="badge badge-info">0</span></td>
                            <td>Regular Customers</td>
                            <td>3,788</td>
                            <td>96.6%</td>
                            <td>93 ng√†y</td>
                            <td>4 ƒë∆°n</td>
                            <td>¬£1,808</td>
                        </tr>
                        <tr class="highlight-row">
                            <td><span class="badge badge-warning">1</span></td>
                            <td>üåü VIP Champions</td>
                            <td>99</td>
                            <td>2.5%</td>
                            <td>59 ng√†y</td>
                            <td>25 ƒë∆°n</td>
                            <td>¬£21,284</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-success">2</span></td>
                            <td>Rising Stars</td>
                            <td>6</td>
                            <td>0.2%</td>
                            <td>37 ng√†y</td>
                            <td>10 ƒë∆°n</td>
                            <td>¬£3,484</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-info">3-6</span></td>
                            <td>Niche Segments</td>
                            <td>~15</td>
                            <td>0.4%</td>
                            <td>ƒêa d·∫°ng</td>
                            <td>ƒêa d·∫°ng</td>
                            <td>ƒêa d·∫°ng</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-success">7-8</span></td>
                            <td>Rising Stars</td>
                            <td>~10</td>
                            <td>0.3%</td>
                            <td>9-20 ng√†y</td>
                            <td>8-15 ƒë∆°n</td>
                            <td>¬£2-5K</td>
                        </tr>
                        <tr>
                            <td><span class="badge badge-danger">9</span></td>
                            <td>‚ö†Ô∏è Lost Customers</td>
                            <td>~10</td>
                            <td>0.2%</td>
                            <td>277 ng√†y</td>
                            <td>2 ƒë∆°n</td>
                            <td>¬£500</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tab: Comparison -->
        <div id="comparison" class="tab-content">
            <div class="section">
                <h2><span class="icon">üìä</span> So s√°nh 3 thu·∫≠t to√°n Clustering</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Thu·∫≠t to√°n</th>
                            <th>Silhouette Score</th>
                            <th>S·ªë Clusters</th>
                            <th>Outliers b·ªã b·ªè</th>
                            <th>∆Øu ƒëi·ªÉm</th>
                            <th>Nh∆∞·ª£c ƒëi·ªÉm</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight-row">
                            <td><strong>üèÜ K-Means</strong></td>
                            <td><strong>0.9933</strong></td>
                            <td>10</td>
                            <td>0</td>
                            <td>Nhanh, d·ªÖ hi·ªÉu, kh√¥ng b·ªè s√≥t</td>
                            <td>Ph·∫£i ch·ªçn K tr∆∞·ªõc</td>
                        </tr>
                        <tr>
                            <td>Agglomerative</td>
                            <td>0.9934</td>
                            <td>10</td>
                            <td>0</td>
                            <td>C√≥ dendrogram</td>
                            <td>Ch·∫≠m v·ªõi d·ªØ li·ªáu l·ªõn</td>
                        </tr>
                        <tr>
                            <td>DBSCAN</td>
                            <td>0.9973</td>
                            <td>7 + noise</td>
                            <td>99 kh√°ch!</td>
                            <td>T·ª± t√¨m K, t√¨m outliers</td>
                            <td>B·ªè m·∫•t 99 kh√°ch h√†ng</td>
                        </tr>
                    </tbody>
                </table>

                <div class="chart-container" style="max-width: 600px; margin: 30px auto;">
                    <canvas id="algorithmChart"></canvas>
                </div>

                <div style="background: rgba(102, 126, 234, 0.2); padding: 20px; border-radius: 15px; margin-top: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 10px;">üèÜ K·∫øt lu·∫≠n: Ch·ªçn K-Means</h3>
                    <ul style="list-style: none;">
                        <li style="padding: 8px 0;">‚úÖ Silhouette Score r·∫•t cao (0.9933)</li>
                        <li style="padding: 8px 0;">‚úÖ Kh√¥ng b·ªè s√≥t kh√°ch h√†ng n√†o (quan tr·ªçng trong kinh doanh!)</li>
                        <li style="padding: 8px 0;">‚úÖ D·ªÖ gi·∫£i th√≠ch cho team marketing</li>
                        <li style="padding: 8px 0;">‚úÖ Ch·∫°y nhanh, d·ªÖ tri·ªÉn khai</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Mini Project - Data Mining | UK Online Retail Dataset</p>
            <p>Silhouette Score: 0.9933 | K = 10 clusters | Top-50 rules with Lift weighting</p>
        </div>
    </div>

    <script>
        // Tab navigation
        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        // Chart.js configuration
        Chart.defaults.color = '#aaa';
        Chart.defaults.borderColor = 'rgba(255,255,255,0.1)';

        // Cluster Distribution Chart
        new Chart(document.getElementById('clusterDistChart'), {
            type: 'doughnut',
            data: {
                labels: ['Cluster 0 (Regular)', 'Cluster 1 (VIP)', 'Others'],
                datasets: [{
                    data: [96.6, 2.5, 0.9],
                    backgroundColor: [
                        'rgba(102, 126, 234, 0.8)',
                        'rgba(245, 87, 108, 0.8)',
                        'rgba(56, 239, 125, 0.8)'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // Silhouette Chart
        const silhouetteData = {
            labels: ['K=2', 'K=3', 'K=4', 'K=5', 'K=6', 'K=7', 'K=8', 'K=9', 'K=10'],
            datasets: [{
                label: 'Silhouette Score',
                data: [0.9723, 0.9811, 0.9856, 0.9897, 0.9901, 0.9908, 0.9919, 0.9925, 0.9933],
                borderColor: 'rgba(102, 126, 234, 1)',
                backgroundColor: 'rgba(102, 126, 234, 0.2)',
                fill: true,
                tension: 0.4,
                pointBackgroundColor: function(context) {
                    return context.dataIndex === 8 ? 'rgba(245, 87, 108, 1)' : 'rgba(102, 126, 234, 1)';
                },
                pointRadius: function(context) {
                    return context.dataIndex === 8 ? 8 : 4;
                }
            }]
        };

        new Chart(document.getElementById('silhouetteChart'), {
            type: 'line',
            data: silhouetteData,
            options: {
                responsive: true,
                scales: {
                    y: {
                        min: 0.96,
                        max: 1.0
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        new Chart(document.getElementById('silhouetteChart2'), {
            type: 'line',
            data: silhouetteData,
            options: {
                responsive: true,
                scales: {
                    y: {
                        min: 0.96,
                        max: 1.0
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // PCA Chart (simulated)
        new Chart(document.getElementById('pcaChart'), {
            type: 'scatter',
            data: {
                datasets: [
                    {
                        label: 'Cluster 0 (Regular)',
                        data: Array.from({length: 50}, () => ({
                            x: Math.random() * 2 - 3,
                            y: Math.random() * 2 - 1
                        })),
                        backgroundColor: 'rgba(102, 126, 234, 0.6)',
                        pointRadius: 4
                    },
                    {
                        label: 'Cluster 1 (VIP)',
                        data: Array.from({length: 10}, () => ({
                            x: Math.random() * 3 + 5,
                            y: Math.random() * 2 - 1
                        })),
                        backgroundColor: 'rgba(245, 87, 108, 0.8)',
                        pointRadius: 6
                    },
                    {
                        label: 'Others',
                        data: Array.from({length: 5}, () => ({
                            x: Math.random() * 4 + 1,
                            y: Math.random() * 4 - 2
                        })),
                        backgroundColor: 'rgba(56, 239, 125, 0.6)',
                        pointRadius: 5
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'PC1 (93.3%)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'PC2 (1.9%)'
                        }
                    }
                }
            }
        });

        // Algorithm Comparison Chart
        new Chart(document.getElementById('algorithmChart'), {
            type: 'bar',
            data: {
                labels: ['K-Means', 'Agglomerative', 'DBSCAN'],
                datasets: [{
                    label: 'Silhouette Score',
                    data: [0.9933, 0.9934, 0.9973],
                    backgroundColor: [
                        'rgba(56, 239, 125, 0.8)',
                        'rgba(102, 126, 234, 0.8)',
                        'rgba(245, 87, 108, 0.8)'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                indexAxis: 'y',
                scales: {
                    x: {
                        min: 0.98,
                        max: 1.0
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    </script>
</body>
</html>
